N = int(input())
S = [list(input()) for _ in range(5)]
memo = [
    [['.', '#', '#', '#'],['.', '#', '.', '#'],['.', '#', '.', '#'],['.', '#', '.', '#'],['.', '#', '#', '#']],
    [['.', '.', '#', '.'],['.', '#', '#', '.'],['.', '.', '#', '.'],['.', '.', '#', '.'],['.', '#', '#', '#']],
    [['.', '#', '#', '#'],['.', '.', '.', '#'],['.', '#', '#', '#'],['.', '#', '.', '.'],['.', '#', '#', '#']],
    [['.', '#', '#', '#'],['.', '.', '.', '#'],['.', '#', '#', '#'],['.', '.', '.', '#'],['.', '#', '#', '#']],
    [['.', '#', '.', '#'],['.', '#', '.', '#'],['.', '#', '#', '#'],['.', '.', '.', '#'],['.', '.', '.', '#']],
    [['.', '#', '#', '#'],['.', '#', '.', '.'],['.', '#', '#', '#'],['.', '.', '.', '#'],['.', '#', '#', '#']],
    [['.', '#', '#', '#'],['.', '#', '.', '.'],['.', '#', '#', '#'],['.', '#', '.', '#'],['.', '#', '#', '#']],
    [['.', '#', '#', '#'],['.', '.', '.', '#'],['.', '.', '.', '#'],['.', '.', '.', '#'],['.', '.', '.', '#']],
    [['.', '#', '#', '#'],['.', '#', '.', '#'],['.', '#', '#', '#'],['.', '#', '.', '#'],['.', '#', '#', '#']],
    [['.', '#', '#', '#'],['.', '#', '.', '#'],['.', '#', '#', '#'],['.', '.', '.', '#'],['.', '#', '#', '#']]
]
ans = ''
for i in range(0,N*4,4):
    for k in range(10):
        flag = True
        for j in range(5):
        #for k in range(i,i+4):
            if S[j][i:i+4] != memo[k][j]:
                flag = False
                break
        if flag:
            ans += str(k)
            break

print(ans)